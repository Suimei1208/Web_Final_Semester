<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <title>Document</title>
</head>
<body>
    <div class="update">
        <div class="card-content">
            <div class="card">
                <div class="card-image"><img src="assets/img/kmrb1.jpg" alt=""></div>
                <div class="card-info">
                    <h3>Card 01</h3>
                    <p>OMGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG</p>
                </div>
            </div>
            <div class="card">
                <div class="card-image"><img src="assets/img/kmrb1.jpg" alt=""></div>
                <div class="card-info">
                    <h3>Card 01</h3>
                    <p>OMGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG</p>
                </div>
            </div>
            <div class="card">
                <div class="card-image"><img src="assets/img/kmrb1.jpg" alt=""></div>
                <div class="card-info">
                    <h3>Card 01</h3>
                    <p>OMGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG</p>
                </div>
            </div>
            <div class="card">
                <div class="card-image"><img src="assets/img/kmrb1.jpg" alt=""></div>
                <div class="card-info">
                    <h3>Card 01</h3>
                    <p>OMGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG</p>
                </div>
            </div>
            <div class="card">
                <div class="card-image"><img src="assets/img/kmrb1.jpg" alt=""></div>
                <div class="card-info">
                    <h3>Card 01</h3>
                    <p>OMGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG</p>
                </div>
            </div>
            <div class="card">
                <div class="card-image"><img src="assets/img/kmrb1.jpg" alt=""></div>
                <div class="card-info">
                    <h3>Card 01</h3>
                    <p>OMGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG</p>
                </div>
            </div>
            <div class="card">
                <div class="card-image"><img src="assets/img/kmrb1.jpg" alt=""></div>
                <div class="card-info">
                    <h3>Card 01</h3>
                    <p>OMGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG</p>
                </div>
            </div>
            <div class="card">
                <div class="card-image"><img src="assets/img/kmrb1.jpg" alt=""></div>
                <div class="card-info">
                    <h3>Card 01</h3>
                    <p>OMGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG</p>
                </div>
            </div>
        </div>
    </div>
    <div class="pagination">
        <li class="page-item previous-page disable"><a class="page-link" href="#">Prev</a></li>
        <li class="page-item current-page active"><a class="page-link" href="#">1</a></li>
        <li class="page-item dots"><a class="page-link" href="#">...</a></li>
        <li class="page-item current-page"><a class="page-link" href="#">5</a></li>
        <li class="page-item current-page"><a class="page-link" href="#">6</a></li>
        <li class="page-item dots"><a class="page-link" href="#">...</a></li>
        <li class="page-item current-page"><a class="page-link" href="#">10</a></li>
        <li class="page-item next-page"><a class="page-link" href="#">Next</a></li>
    </div>
</body>
<script type="text/javascript">
    function getPageList(totalPages,page,maxLength){
        function range(start,end){
            return Array.from(Array(end-start + 1),(_,i)=> i +start);
        }
        var sideWidth = maxLength < 9 ? 1 : 2;
        var leftWidth = (maxLength - sideWidth * 2 - 3)>>1;
        var rightWidth = (maxLength - sideWidth *2 - 3)>>1;

        if(totalPages <= maxLength){
            return range(1,totalPages);
        }

        if(page <= maxLength - sideWidth - 1 - rightWidth){
            return range(1,maxLength - sideWidth - 1).concat(0,range(totalPages - sideWidth + 1,totalPages));
        }

        if(page >= totalPages - sideWidth - 1 -rightWidth){
            return range(1,sideWidth).concat(0,range(totalPages - sideWidth - 1 -rightWidth -leftWidth,totalPages));
        }
        return range(1,sideWidth).concat(0,range(page- leftWidth,page+rightWidth),0,range(totalPages - sideWidth +1,totalPages));
    }

    $(function(){
        var numberOfItems = $(".card-content .card").length;
        var limitPerPage = 4;
        var totalPages = Math.ceil(numberOfItems/limitPerPage);
        var paginationSize = 7;
        var currentpage;

        function showPage(whichPage){
            if(whichPage <1 || whichPage > totalPages) return false;
            
            currentpage = whichPage;

            $(".update .card").hide().slice((currentpage - 1) *limitPerPage,currentpage +limitPerPage).show();
            $(".pagination li").slice(1,-1).remove();
            getPageList(totalPages,currentpage,paginationSize).forEach(item =>{
                $("<li>").addClass("page-item").addClass(item ? "current-page" : "dots")
                    .toggleClass("active",item === currentpage).append($("<a>").addClass("page-link")
                        .attr({href: "javascript:void(0)"}).text(item || "...")).insertBefore(".next-page");
            });

            $(".previous-page").toggleClass("disable",currentpage ===1);
            $(".next-page").toggleClass("disable",currentpage ===totalPages);
            return true;
        }
        $(".pagination").append(
            $("<li>").addClass("page-item").addClass("previous-page").append($("<a>").addClass("page-link"),attr({href: "javascript:void(0)"}).text("Prev")),
            $("<li>").addClass("page-item").addClass("next-page").append($("<a>").addClass("page-link"),attr({href: "javascript:void(0)"}).text("Next")),

        );
        $(".update").show();
        showPage(1)
        $(document).on("click", ".pagination li.curent-page:not(.active)", function(){
            return showPage(+$(this).text());
        });
        $(".next-page").on("click",function(){
            return showPage(currentpage + 1);
        });
        $(".previous-page").on("click",function(){
            return showPage(currentpage - 1);
        });
    });
</script>
</html>